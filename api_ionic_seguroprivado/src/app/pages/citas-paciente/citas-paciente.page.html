<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <!-- Al cerrar sesión ocultamos el select de médicos-->
      <ion-button (click)="logout()">
        <ion-icon name="log-out-outline"></ion-icon>
        Logout
      </ion-button>
    </ion-buttons>
    <ion-title align="center" id="titulo">Citas realizadas del paciente</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Al hacer login mostramos este select -->
  <ion-item *ngIf="medicos" id="select_medico">
    <ion-label>Seleccione un médico</ion-label>
    <ion-select cancel-text="Cancelar" ok-text="Ok" [(ngModel)]="medicoSeleccionado" (ionChange)="seleccionarMedico()">
      <ion-select-option *ngFor="let medico of medicoSalesin" value="{{ medico.id }}">{{ medico.username }}</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-label *ngFor="let cita of citas; first as isFirst">
    <h1 align="center" *ngIf="isFirst">Citas realizadas con el médico seleccionado</h1>
  </ion-label>
  
  <ion-label *ngFor="let cita of citas; let numCita=index">
    <ion-card class="card" id="datosCita">
      <ion-card-header color="secondary" id="content">
          <ion-card-title>Cita de paciente {{ numCita + 1 }}</ion-card-title>
      </ion-card-header>
      <ion-card-content class="text-white">
        <h3><strong>Nombre y apellidos del médico: </strong>{{ cita.nombre }} {{ cita.apellidos }}</h3>
        <h3><strong>Edad del médico: </strong>{{ cita.edad }}</h3>
        <h3><strong>Fecha de alta del médico: </strong>{{ cita.fecha_alta|date:'dd/MM/yyyy' }}</h3>
        <h3><strong>Especialidad: </strong>{{ cita.especialidad }}</h3>
        <h3><strong>Fecha de cita: </strong>{{ cita.fecha_cita|date:'dd/MM/yyyy' }}</h3>
        <h3><strong>Tratamiento: </strong>{{ cita.tratamiento }}</h3>
        <h3><strong>Observaciones: </strong>{{ cita.observaciones }}</h3>
      </ion-card-content>
    </ion-card>
  </ion-label>
</ion-content>