<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="copyright" content="MACode ID, https://macodeid.com/">

  <title>{% block title %} Formulario de Login {% endblock %}</title>
  
  {% load static %}
  
  <link rel="stylesheet" href="{% static 'assets/css/maicons.css' %}">

  <link rel="stylesheet" href="{% static 'assets/css/bootstrap.css' %}">

  <link rel="stylesheet" href="{% static 'assets/vendor/owl-carousel/css/owl.carousel.css' %}">

  <link rel="stylesheet" href="{% static 'assets/vendor/animate/animate.css' %}">

  <link rel="stylesheet" href="{% static 'assets/css/theme.css' %}">

  <link rel="stylesheet" href="{% static 'assets/css/sign_in.css' %}">
  
  {% comment %} Font Awesome icons (free version) {% endcomment %}
  <script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>

</head>
<body>
  <div class="back-to-top"></div>

  <header>    
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
      <div class="container">
        <p class="navbar-brand text-primary">Proyecto <span class="text-dark">Django</span></p>
      </div>
    </nav>
  </header>

  {% comment %} Mensaje mostrado después de registrar a un paciente {% endcomment %}
  {% if 'registered' in request.GET %}
  <div class="container alert alert-success text-center text-white">
    Paciente registrado correctamente
  </div>
  {% endif %}

  <div class="page-hero bg-image overlay-dark row m-0 justify-content-center align-items-center" id="img_fondo">
    <div class="rounded p-5 bg-light col-sm-3 row m-0 justify-content-center align-items-center">
      {% comment %} Mensaje mostrado después de registrar a un paciente {% endcomment %}
      {% if 'registered' in request.GET %}
      <div class="container alert alert-success d-flex text-center text-white" role="alert">
        <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
        <div>Paciente registrado correctamente</div>
      </div>
      {% endif %}
      
      <span class="navbar-brand text-primary" id="titulo">Login de usuarios</span>

      <form action="" method="POST">
        {% csrf_token %}
        
        <div class="input-group input-navbar" id="username">
          <div class="input-group-prepend">
            <span class="input-group-text" id="icon-addon1"><span class="fas fa-user"></span></span>
          </div>
          <input type="text" class="form-control" name="username" placeholder="Nombre de usuario" aria-label="Username" aria-describedby="icon-addon1" required>
        </div>
        <div class="input-group input-navbar" id="password">
          <div class="input-group-prepend">
            <span class="input-group-text" id="icon-addon1"><span class="fas fa-lock"></span></span>
          </div>
          <input type="password" class="form-control" name="password" placeholder="Contraseña"  aria-label="Password" aria-describedby="icon-addon1" required>
        </div>

        <a href="{% url 'registro' %}" class="input-navbar btn btn-info btn-block" id="registro">
          <span class="fas fa-user-plus"></span>
          <span>Registrar paciente</span>
        </a>

        {% comment %} Mensaje de que se ha cerrado sesión {% endcomment %}
        {% if messages %}
          {% for logout in messages %}
          <div class="input-group input-navbar alert alert-info text-center" id="mensaje">
              {{ logout }}
          </div>
          {% endfor %}
        {% endif %}

        {% comment %} Mensaje de error en las credenciales por validar {% endcomment %}
        {% if form.non_field_errors %}
        <div class="input-group input-navbar alert alert-danger text-center">Credenciales erróneas</div>
        {% endif %}

  
        <a href="{% url 'inicio' %}" class="btn btn-danger">
          <span class="fas fa-arrow-left"></span>
          <span>Cancelar</span>
        </a>
  
        <button class="btn btn-primary" id="login">
          <span class="fas fa-sign-in-alt"></span>
          <span class="navbar-toggler-icon">Login</span>
        </button>
      </form>
    </div>
  </div>

{% comment %} 
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupport" aria-controls="navbarSupport" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon">Sign In</span>
  </button>
{% endcomment %}

<script src="{% static 'assets/js/jquery-3.5.1.min.js' %}"></script>

<script src="{% static 'assets/js/bootstrap.bundle.min.js' %}"></script>

<script src="{% static 'assets/vendor/owl-carousel/js/owl.carousel.min.js' %}"></script>

<script src="{% static 'assets/vendor/wow/wow.min.js' %}"></script>

<script src="{% static 'assets/js/theme.js' %}"></script>
  
</body>
</html>